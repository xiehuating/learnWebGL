<!DOCTYPE html>
<!-- saved from url=(0029)http://www.hiwebgl.com/?p=294 -->
<html dir="ltr" lang="zh-CN"><script type="text/javascript">
    var spector;
    var captureOnLoad = false;
    var captureOffScreen = false;
    window.__SPECTOR_Canvases = [];

    (function() {
        var __SPECTOR_Origin_EXTENSION_GetContext = HTMLCanvasElement.prototype.getContext;
        HTMLCanvasElement.prototype.__SPECTOR_Origin_EXTENSION_GetContext = __SPECTOR_Origin_EXTENSION_GetContext;

        HTMLCanvasElement.prototype.getContext = function () {
            var context = null;
            if (!arguments.length) {
                return context;
            }

            if (arguments.length === 1) {
                context = this.__SPECTOR_Origin_EXTENSION_GetContext(arguments[0]);
                if (context === null) {
                    return context;
                }
            }
            else if (arguments.length === 2) {
                context = this.__SPECTOR_Origin_EXTENSION_GetContext(arguments[0], arguments[1]);
                if (context === null) {
                    return context;
                }
            }

            var contextNames = ["webgl", "experimental-webgl", "webgl2", "experimental-webgl2"];
            if (contextNames.indexOf(arguments[0]) !== -1) {
                context.canvas.setAttribute("__spector_context_type", arguments[0]);
                // Notify the page a canvas is available.
                var myEvent = new CustomEvent("SpectorWebGLCanvasAvailableEvent");
                document.dispatchEvent(myEvent);

                if (captureOffScreen) {
                    var found = false;
                    for (var i = 0; i < window.__SPECTOR_Canvases.length; i++) {
                        if (window.__SPECTOR_Canvases[i] === this) {
                            found = true;
                            break;
                        }
                    }
                    if (!found) {
                        window.__SPECTOR_Canvases.push(this);
                    }
                }

                if (captureOnLoad) {
                    // Ensures canvas is in the dom to capture the one we are currently tracking.
                    if (this.parentElement || false) {
                        spector.captureContext(context, 500, false);
                        captureOnLoad = false;
                    }
                }
            }

            return context;
        }
    })()</script><script>(function main() {
    // Create enabled event
    function fireEnabledEvent() {
        // If gli exists, then we are already present and shouldn't do anything
        if (!window.gli) {
            setTimeout(function () {
                var enabledEvent = document.createEvent("Event");
                enabledEvent.initEvent("WebGLEnabledEvent", true, true);
                document.dispatchEvent(enabledEvent);
            }, 0);
        } else {
            //console.log("WebGL Inspector already embedded on the page - disabling extension");
        }
    };

    // Grab the path root from the extension
    document.addEventListener("WebGLInspectorReadyEvent", function (e) {
        var pathElement = document.getElementById("__webglpathroot");
        if (window["gliloader"]) {
            gliloader.pathRoot = pathElement.innerText;
        } else {
            // TODO: more?
            window.gliCssUrl = pathElement.innerText + "gli.all.css";
        }
    }, false);

    // Rewrite getContext to snoop for webgl
    var originalGetContext = HTMLCanvasElement.prototype.getContext;
    if (!HTMLCanvasElement.prototype.getContextRaw) {
        HTMLCanvasElement.prototype.getContextRaw = originalGetContext;
    }
    HTMLCanvasElement.prototype.getContext = function () {
        var ignoreCanvas = this.internalInspectorSurface;
        if (ignoreCanvas) {
            return originalGetContext.apply(this, arguments);
        }

        var result = originalGetContext.apply(this, arguments);
        if (result == null) {
            return null;
        }

        var contextNames = ["moz-webgl", "webkit-3d", "experimental-webgl", "webgl", "3d"];
        var requestingWebGL = contextNames.indexOf(arguments[0]) != -1;
        if (requestingWebGL) {
            // Page is requesting a WebGL context!
            fireEnabledEvent(this);

            // If we are injected, inspect this context
            if (window.gli) {
                if (gli.host.inspectContext) {
                    // TODO: pull options from extension
                    result = gli.host.inspectContext(this, result);
                    // NOTE: execute in a timeout so that if the dom is not yet
                    // loaded this won't error out.
                    window.setTimeout(function() {
                        var hostUI = new gli.host.HostUI(result);
                        result.hostUI = hostUI; // just so we can access it later for debugging
                    }, 0);
                }
            }
        }

        return result;
    };
})();</script><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Lesson 8 深度缓存、透明度和混合 | HiWebGL</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="stylesheet" type="text/css" media="all" href="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/style.css">
<!--[if IE]>
<link rel="stylesheet" type="text/css" media="all" href="http://www.hiwebgl.com/wp-content/themes/mnchrome/style-ie.css" />
<![endif]-->
<link rel="stylesheet" type="text/css" media="all" href="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/custom.css"><link rel="pingback" href="http://www.hiwebgl.com/xmlrpc.php">
<meta name="robots" content="index,follow">
<link rel="canonical" href="http://www.hiwebgl.com/?p=294">
<link rel="alternate" type="application/rss+xml" title="HiWebGL » Feed" href="http://www.hiwebgl.com/?feed=rss2">
<link rel="alternate" type="application/rss+xml" title="HiWebGL » 评论 Feed" href="http://www.hiwebgl.com/?feed=comments-rss2">
<link rel="alternate" type="application/rss+xml" title="HiWebGL » Lesson 8 深度缓存、透明度和混合 评论 Feed" href="http://www.hiwebgl.com/?feed=rss2&amp;p=294">
<link rel="stylesheet" id="wm-css" href="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/style(1).css" type="text/css" media="all">
<link rel="stylesheet" id="toc-screen-css" href="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/screen.css" type="text/css" media="all">
<link rel="stylesheet" id="codebox-css" href="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/codebox.css" type="text/css" media="screen">
<script type="text/javascript" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/jquery.js.下载"></script>
<script type="text/javascript" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/front.js.下载"></script>
<script type="text/javascript" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/widget.js.下载"></script>
<script type="text/javascript" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/comment-reply.js.下载"></script>
<script type="text/javascript" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/codebox.js.下载"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.hiwebgl.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.hiwebgl.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Lesson 7 平行光和环境光" href="http://www.hiwebgl.com/?p=282">
<link rel="next" title="Lesson 9 优化代码结构实现多物体运动" href="http://www.hiwebgl.com/?p=312">
<meta name="generator" content="Monochrome 1.0">
<link rel="canonical" href="http://www.hiwebgl.com/?p=294">
<script type="text/javascript" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/jquery.min.js.下载"></script>
<script type="text/javascript" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/hoverIntent.js.下载"></script>
<script type="text/javascript" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/superfish.js.下载"></script>
<script type="text/javascript" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/supersubs.js.下载"></script>
<script type="text/javascript" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/jquery.accordion.js.下载"></script>
<script type="text/javascript" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/dropdowns.js.下载"></script>
<style type="text/css" media="all">
/* <![CDATA[ */
@import url("http://www.hiwebgl.com/wp-content/plugins/wp-table-reloaded/css/plugin.css?ver=1.9.3");
@import url("http://www.hiwebgl.com/wp-content/plugins/wp-table-reloaded/css/datatables.css?ver=1.9.3");
/* ]]> */
</style></head>
<body class="single single-post postid-294 single-format-standard">
<div id="wrapper" class="hfeed">
	<div id="header">
    	<div id="masthead">
        	<div id="branding" role="banner">
            	<div id="site-logo">
                	<a href="http://www.hiwebgl.com/" title="HiWebGL" rel="home">
                    	                    <img src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/logo.png" align="logo">
                    					</a>
                </div>
                <div id="site-description">最好的HTML5 WebGL中文资讯站！</div>
                            </div><!-- #branding -->
            <div id="access" role="navigation">
            		<div class="menu">
		<ul class="sf-menu sf-js-enabled">
			<li>
            	<a href="http://www.hiwebgl.com/" title="HiWebGL" rel="home">
				<strong>首页</strong><span>Homepage</span>
			</a></li>
						<li>
				<a href="http://www.hiwebgl.com/?p=42">
				<strong>教程</strong><span>&nbsp;</span></a>
							</li>
						<li>
				<a href="http://www.hiwebgl.com/?cat=16">
				<strong>Demo</strong><span>&nbsp;</span></a>
							</li>
						<li>
				<a href="http://www.hiwebgl.com/ask">
				<strong>有问必答</strong><span>&nbsp;</span></a>
							</li>
						<li>
				<a href="http://hiwebgl.com/forum/">
				<strong>论坛</strong><span>&nbsp;</span></a>
							</li>
					</ul>
	</div>
            </div><!-- #access -->
        </div><!-- #masthead -->
    </div><!-- #header -->
    
    <div id="breadcrumbWrap"><div id="breadcrumb">
<span>You are here: </span><a href="http://www.hiwebgl.com/">Home</a> » <a href="http://www.hiwebgl.com/?cat=17" title="查看 WebGL教程 中的全部文章">WebGL教程</a> » Lesson 8 深度缓存、透明度和混合</div></div>    
    <div id="main">
		<div id="container">
			<div id="content" role="main">


				<div id="post-294" class="post-294 post type-post status-publish format-standard hentry category-webgl">
					<h1 class="entry-title">Lesson 8 深度缓存、透明度和混合</h1>

					<div class="entry-meta">
							<span class="meta-author">By admin</span>
    <span class="meta-date">On 2011 年 9 月 19 日</span>
    <span class="meta-comment">4 条评论</span>
						2,261 次浏览					</div><!-- .entry-meta -->

					<div class="entry-content">
                		<p><span style="color: #888888;"><em>HiWebGL译者声明：因为译者个人方便的原因，我们将原教程中的第三方图形库由glMatrix改为Oak3D实现，这不影响到Demo的最终效果和实现，也不影响到WebGL的讲解和学习。原教程正文中相应的代码和讲解也为做了相应修改！本教程由HiWebGL翻译整理，转载请注明出处！</em></span></p>
<p><span style="color: #888888;"><em>关于Oak3D：Oak3D是一套简单易用、性能优越的WebGL Javascript Library。您可以在他们的主页找到更多信息。Oak3D主页：<a href="http://www.oak3d.com/" target="_blank"><span style="color: #888888;">http://www.oak3d.com</span></a>&nbsp;</em></span></p>
<p>欢迎来到WebGL教程的第八节课，这节课的内容基于NeHe OpenGL教程的<a href="http://nehe.gamedev.net/data/lessons/lesson.asp?lesson=08" target="_blank">第8节</a>改编的。在这节课上，我们将会介绍混合，并且稍微介绍一下这个相当有用的深度缓存是如何工作的。</p>
<p>下面的视频就是我们这节课将会完成的最终效果。</p>
<p><embed src="http://player.youku.com/player.php/sid/XMzA1MjQ2NDI4/v.swf" quality="high" width="480" height="400" align="middle" allowscriptaccess="sameDomain" type="application/x-shockwave-flash"></p>
<p>点击<a href="http://www.hiwebgl.com/webgl_lessons/lesson08/index.html" target="_blank">这里</a>打开一个独立的WebGL页面，如果你的浏览器不支持WebGL，请点击<a href="http://www.hiwebgl.com/?p=52" target="_blank">这里</a>。</p>
<p>你将会看到一个半透明并且缓慢旋转的立方体，看上去是用有色玻璃制作的。你还可以像上节课中一样调节光照。</p>
<p>你可以点击画布下边的复选框以开启或者关闭混合模式和透明效果。你还可以调节alpha 的参数（这个我们将在稍后解释），当然，还有光线明暗。</p>
<p>下面我们来看看它是怎么工作的……</p>
<p>惯例声明：本系列的教程是针对那些已经具备相应编程知识但没有实际3D图形经验的人的；目标是让学习者创建并运行代码，并且明白代码其中的含义，从而可以快速地创建自己的3D Web页面。如果你还没有阅读前一课，请先阅读前一课的内容吧。因为本课中我只会讲解那些与前一课中不同的新知识。</p>
<p>另外，我编写这套教程是因为我在独立学习WebGL，所以教程中可能（非常可能）会有错误，所以还请风险自担。尽管如此，我还是会不断的修正bug和改正其中的错误的，所以如果你发现了教程中的错误，请告诉我。</p>
<p>有两种方法可以获得上面实例的代码：在实例的独立页面中选择“查看源代码”；或者点击<a href="http://www.hiwebgl.com/webgl_lessons/lesson08/lesson08.zip" target="_blank">这里</a>下载我们为您准备好的压缩包。</p>
<h3>深度缓存（Depth Buffer）</h3>
<p>当你命令WebGL绘制物体的时候，必须要经过某些必要的步骤。按等级高低排序：</p>
<ol>
<li>在所有的顶点上运行顶点着色器以绘制出物体所在的位置。</li>
<li>线性地在顶点之间进行插值运算，这样做是告诉顶点哪些片元（这个时候，你可以把片元当做像素对待）需要上色。</li>
<li>对于每个片元来说，运行片元着色器以绘制出它的颜色。</li>
<li>把它写入帧缓冲。</li>
</ol>
<p>最终，帧缓冲就是屏幕上显示出来的内容。但是当你需要绘制两个物体时，又会是怎样的呢？比如，当你需要绘制两个大小一样的正方形，一个中心位于（0,0,-5），另一个中心位于（0,0,-10),又会是怎样的呢？你肯定不希望第二个正方形覆盖在第一个正方形上，因为它距离更远，应当被挡住的。</p>
<p>WebGL正是运用深度缓存来处理这样的情况的。当片元着色器处理完片元以及RGBA颜色值，并把它们写入帧缓冲时，也会将与Z值相关的深度值储存在里面，但是这个值并不完全与Z值相同。（这不奇怪，因为深度缓存经常也被叫做Z缓存。）</p>
<p>为什么我说“相关的”呢？是这样的，WebGL总是将所有的Z值按从0到1顺序排列，0为最近，1为最远。其实这些事情在drawScene函数一开始，当我们调用透视并创建投影矩阵时，就背着我们发生了。现在，你所需要知道的就是，Z-buffer的值越大，物体距离就越远，这一点与我们通常的坐标系统是相反的。</p>
<p>好了，这些就是深度缓存。你应该还记得我们在第一课中初始化WebGL的代码，有这样一行。</p>

<div class="wp_codebox"><table><tbody><tr id="p2941"><td class="line_numbers"><pre>1
</pre></td><td class="code" id="p294code1"><pre class="glsl" style="font-family:monospace;">    gl<span style="color: #000066;">.</span><span style="color: #006600;">enable</span><span style="color: #000066;">(</span>gl<span style="color: #000066;">.</span><span style="color: #006600;">DEPTH_TEST</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></pre></td></tr></tbody></table></div>

<p>这行代码是给WebGL系统一个说明，告诉系统在把一段新的片元写入帧缓冲时，系统需要做些什么，基本上的意思是“注意深度缓存”。它会和另一个WebGL设置深度函数一起协同发生作用。实际上这个函数默认拥有一个合适的值，如果我们将它设置为默认值，它会是这样的：</p>

<div class="wp_codebox"><table><tbody><tr id="p2942"><td class="line_numbers"><pre>1
</pre></td><td class="code" id="p294code2"><pre class="glsl" style="font-family:monospace;">    gl<span style="color: #000066;">.</span><span style="color: #006600;">depthFunc</span><span style="color: #000066;">(</span>gl<span style="color: #000066;">.</span><span style="color: #006600;">LESS</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span></pre></td></tr></tbody></table></div>

<p>这个函数的意思是：如果片元的Z值小于当前值，将使用新的值，而不是原有的值。这个深度检测，和其他实现他的代码一起，会给我们一个合理的透视行为——近处的物体会掩盖远处的物体。（你还可以尝试着将深度函数中的参数设为其他不同的值，尽管我想这些值并不太常用。）</p>
<h3>混合（Blending）</h3>
<p>混合是上述这一过程的另一个替代方案。通过深度检测，我们使用深度函数来判断是否用新的片元替换现有片元。当我们使用混合时，我们使用一个混合函数，把现有片元和新片元的颜色组合到一起，创建一个全新的片元，接着将它写入缓冲区内。</p>
<p>让我们来看一下代码。大部分代码是和第七课中的代码相同的，最重要的部分几乎都在drawScene的一小段代码中。首先，我们先来看一下混合复选框是否被选取。</p>

<div class="wp_codebox"><table><tbody><tr id="p2943"><td class="line_numbers"><pre>436
</pre></td><td class="code" id="p294code3"><pre class="javascript" style="font-family:monospace;">        <span style="color: #003366; font-weight: bold;">var</span> blending <span style="color: #339933;">=</span> document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">(</span><span style="color: #3366CC;">"blending"</span><span style="color: #009900;">)</span>.<span style="color: #660066;">checked</span><span style="color: #339933;">;</span></pre></td></tr></tbody></table></div>

<p>如果被选取，我们将设置一个函数用来组合这两个片元。</p>

<div class="wp_codebox"><table><tbody><tr id="p2944"><td class="line_numbers"><pre>437
438
</pre></td><td class="code" id="p294code4"><pre class="javascript" style="font-family:monospace;">        <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">(</span>blending<span style="color: #009900;">)</span> <span style="color: #009900;">{</span>
            gl.<span style="color: #660066;">blendFunc</span><span style="color: #009900;">(</span>gl.<span style="color: #660066;">SRC_ALPHA</span><span style="color: #339933;">,</span> gl.<span style="color: #660066;">ONE</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span></pre></td></tr></tbody></table></div>

<p>这些参数定义了混合是如何完成的。这需要一定技巧，但是并不困难。首先，我们需要定义两个术语：源片元（source fragment）和目标片元（destination fragment）。其中源片元是我们正在绘制的片元，而目标片元是已经存在于帧缓冲之中的。gl.blendFunc函数中的第一个参数定义了source factor，而第二个参数，定义了，这些factor是在混合函数中使用的一些数字。在这节课的例子中，我们指定用源片元的alpha值作为source factor，而destination factor则是一个常量1。当然，也有其他可能性，如果将源色指定为SRC_COLOR，你最后得到的source factor会是单独的红、绿、蓝和alpha值，其中每个都与原始的RGBA的分量相等。</p>
<p>现在，让我们来假设一下如果WebGL正在试图用计算出一个片元的颜色，这个片元有一个既存的目标片元和一个即将被加入的源片元，目标片元的RGBA值为 (R<sub>d</sub>, G<sub>d</sub>, B<sub>d</sub>, A<sub>d</sub>)，源片元的值为(R<sub>s</sub>, G<sub>s</sub>, B<sub>s</sub>, A<sub>s</sub>)。</p>
<p>另外，假设RGBA的source factor是(S<sub>r</sub>, S<sub>g</sub>, S<sub>b</sub>, S<sub>a</sub>)，而destination factor是(D<sub>r</sub>, D<sub>g</sub>, D<sub>b</sub>, D<sub>a</sub>)。</p>
<p>对于每个颜色分量，WebGL将会进行以下运算。</p>
<ul>
<li>R<sub>result</sub> = R<sub>s</sub> * S<sub>r</sub> + R<sub>d</sub> * D<sub>r</sub></li>
<li>G<sub>result</sub> = G<sub>s</sub> * S<sub>g</sub> + G<sub>d</sub> * D<sub>g</sub></li>
<li>B<sub>result</sub> = B<sub>s</sub> * S<sub>b</sub> + B<sub>d</sub> * D<sub>b</sub></li>
<li>A<sub>result</sub> = A<sub>s</sub> * S<sub>a</sub> + A<sub>d</sub> * D<sub>a</sub></li>
</ul>
<p>为了简单起见，这里我们仅会对红色分量进行运算。</p>
<ul>
<li>R<sub>result</sub> = R<sub>s</sub> * A<sub>s</sub> + R<sub>d</sub></li>
</ul>
<p>通常来说，这并不是创建透明物体的最理想方法。但当开启光照时，它确是解决问题的一个好方法。还有一件需要强调的事情是，<strong>混合并不是透明</strong>！相对于其他技术，它仅仅是一种能够实现透明效果的技巧。我在学习Nehe时，我花了好大功夫才弄懂这些，所以，请原谅我在这里过于强调这一点。</p>
<p>好啦，继续我们的课程。</p>

<div class="wp_codebox"><table><tbody><tr id="p2945"><td class="line_numbers"><pre>439
</pre></td><td class="code" id="p294code5"><pre class="javascript" style="font-family:monospace;">            gl.<span style="color: #660066;">enable</span><span style="color: #009900;">(</span>gl.<span style="color: #660066;">BLEND</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span></pre></td></tr></tbody></table></div>

<p>这一段很简单，和其他许多WebGL中的特性一样，混合是默认关闭的。所以，在这里我们必须启用它。</p>

<div class="wp_codebox"><table><tbody><tr id="p2946"><td class="line_numbers"><pre>440
</pre></td><td class="code" id="p294code6"><pre class="javascript" style="font-family:monospace;">            gl.<span style="color: #660066;">disable</span><span style="color: #009900;">(</span>gl.<span style="color: #660066;">DEPTH_TEST</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span></pre></td></tr></tbody></table></div>

<p>这里有一个很有趣的现象，那就是在开启混合的同时，我们必须要关闭深度检测。如果我们不这么做，混合效果将会出现在某些地方，但是在另一些地方却又不会出现。例如，当我们在绘制一个立方体时，假设我们正巧先绘制立方体的背面，这样，立方体的背面就会被写入帧缓冲之中；接着，当正面完成时，正面就会出现在背面之前，并带有混合效果，这也是我们需要的效果。但是，相反如果我们先绘制正面，然后绘制背面，这时背面将会在我们运行混合函数之前，在深度检测中被丢弃，显然这不是我们希望得到的效果。</p>
<p>眼尖的读者应该会在上面的混合函数中注意到这一点，混合很依赖绘制物体的顺序，这一点是在我们前几节课中都没有遇到过的。我们将在后面详细介绍，让我们先来讲完最后一点代码。</p>

<div class="wp_codebox"><table><tbody><tr id="p2947"><td class="line_numbers"><pre>441
</pre></td><td class="code" id="p294code7"><pre class="javascript" style="font-family:monospace;">            gl.<span style="color: #660066;">uniform1f</span><span style="color: #009900;">(</span>shaderProgram.<span style="color: #660066;">alphaUniform</span><span style="color: #339933;">,</span> parseFloat<span style="color: #009900;">(</span>document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">(</span><span style="color: #3366CC;">"alpha"</span><span style="color: #009900;">)</span>.<span style="color: #660066;">value</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span></pre></td></tr></tbody></table></div>

<p>现在，我们正从页面中的文本框里加载一个alpha值，并且将它传递给着色器。这是因为我们作为纹理使用的图像没有自带alpha通道（它只有RGB通道，所以每个像素来说alpha值都固定为1）。所以，alpha值最好是可以调节的，这样我们就能看出它是如何影响图像的。</p>
<p>drawScene函数中的其余部分是用于当混合被关闭时，进行一般运算的。</p>

<div class="wp_codebox"><table><tbody><tr id="p2948"><td class="line_numbers"><pre>442
443
444
445
</pre></td><td class="code" id="p294code8"><pre class="javascript" style="font-family:monospace;">        <span style="color: #009900;">}</span> <span style="color: #000066; font-weight: bold;">else</span> <span style="color: #009900;">{</span>
            gl.<span style="color: #660066;">disable</span><span style="color: #009900;">(</span>gl.<span style="color: #660066;">BLEND</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
            gl.<span style="color: #660066;">enable</span><span style="color: #009900;">(</span>gl.<span style="color: #660066;">DEPTH_TEST</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">}</span></pre></td></tr></tbody></table></div>

<p>在片元着色器中还有一些小的改动，那就是处理纹理时将使用到alpha值，参见第18行代码。</p>

<div class="wp_codebox"><table><tbody><tr id="p2949"><td class="line_numbers"><pre>11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="code" id="p294code9"><pre class="glsl" style="font-family:monospace;">&nbsp;
    <span style="color: #000066; font-weight: bold;">precision</span> <span style="color: #000066; font-weight: bold;">mediump</span> <span style="color: #000066; font-weight: bold;">float</span><span style="color: #000066;">;</span>
&nbsp;
&nbsp;
    <span style="color: #333399; font-weight: bold;">varying</span> <span style="color: #000066; font-weight: bold;">vec2</span> vTextureCoord<span style="color: #000066;">;</span>
    <span style="color: #333399; font-weight: bold;">varying</span> <span style="color: #000066; font-weight: bold;">vec3</span> vLightWeighting<span style="color: #000066;">;</span>
&nbsp;
    <span style="color: #333399; font-weight: bold;">uniform</span> <span style="color: #000066; font-weight: bold;">float</span> uAlpha<span style="color: #000066;">;</span>
&nbsp;
    <span style="color: #333399; font-weight: bold;">uniform</span> <span style="color: #000066; font-weight: bold;">sampler2D</span> uSampler<span style="color: #000066;">;</span>
&nbsp;
    <span style="color: #000066; font-weight: bold;">void</span> main<span style="color: #000066;">(</span><span style="color: #000066; font-weight: bold;">void</span><span style="color: #000066;">)</span> <span style="color: #000066;">{</span>
        <span style="color: #000066; font-weight: bold;">vec4</span> textureColor <span style="color: #000066;">=</span> <span style="color: #993333; font-weight: bold;">texture2D</span><span style="color: #000066;">(</span>uSampler<span style="color: #000066;">,</span> <span style="color: #000066; font-weight: bold;">vec2</span><span style="color: #000066;">(</span>vTextureCoord<span style="color: #000066;">.</span><span style="color: #006600;">s</span><span style="color: #000066;">,</span> vTextureCoord<span style="color: #000066;">.</span><span style="color: #006600;">t</span><span style="color: #000066;">)</span><span style="color: #000066;">)</span><span style="color: #000066;">;</span>
        <span style="color: #551111;">gl_FragColor</span> <span style="color: #000066;">=</span> <span style="color: #000066; font-weight: bold;">vec4</span><span style="color: #000066;">(</span>textureColor<span style="color: #000066;">.</span><span style="color: #006600;">rgb</span> <span style="color: #000066;">*</span> vLightWeighting<span style="color: #000066;">,</span> textureColor<span style="color: #000066;">.</span><span style="color: #006600;">a</span> <span style="color: #000066;">*</span> uAlpha<span style="color: #000066;">)</span><span style="color: #000066;">;</span>
    <span style="color: #000066;">}</span></pre></td></tr></tbody></table></div>

<p>有变化的代码就这么多了！</p>
<p>好了，我们现在来讲一讲绘制顺序。示例中的透明效果十分出色——看上去很像彩色玻璃吧。 但现在我们再来看看它，这次我们改变一下光线的方向，让光线从Z轴正方向射入，也就是把文本框中的“-”号都去掉。恩，看上去很棒，但是，那种可以乱真的彩色玻璃效果却消失了。</p>
<p>为什么呢？这是因为在原来的光照处理中，立方体朝后的那一面，也就是背对光源的那一面一般都是昏暗的。也就是说那一面的R、G、B的值都十分小。所以，在进行运算时：</p>
<ul>
<li>R<sub>result</sub> = R<sub>s</sub> * R<sub>a</sub> + R<sub>d</sub></li>
</ul>
<p>那一面看上去就不会那么明显。换句话说，我们的光照处理让后侧可见度较低。如果我们改变光照效果，让前侧可见度较低的话，那我们的透明效果看起来就不那么好了。</p>
<p>但是，我们要如何才能得到一个“合适”的透明效果呢？<a href="http://www.opengl.org/resources/faq/technical/transparency.htm" target="_blank">OpenGL FAQ</a>告诉我们，需要使用SRC_ALPHA 作为source factor，用ONE_MINUS_SRC_ALPHA作为destination factor。但是还有一个问题，源片元和目标片元的运算方式不同，所以，我们将会十分依赖绘制物体的顺序。这也引出了我认为是OpenGL或WebGL中的一个不光彩的地方；好再让我们来看一下OpenGL的FAQ：</p>
<blockquote><p>当使用深度缓存时，你必须十分注意呈现图元的顺序。按照从后到前的顺序，完全不透明的图元应当首先被呈现，接着是部分透明的图元；如果你没有按照此顺序呈现图元，深度检测会屏蔽那些原本借助于透明图元才可以显示的图元。</p></blockquote>
<p>深度缓存只能保证最近的面。而透明物体，实际上需要的是保存多层面数据，才能重现正确的效果。所以需要先画不透明的物体，然后再画透明的物体；同时，透明物体需要先按由远到近排好顺序才行。 如果你先画了透明的，后画不透明的，显然是不对的。因为即使不透明的更近，也不能通过深度检测屏蔽掉不透明的，所以必须先画不透明的。透明的物体，也需要由远到近来画。这样一层层blend上去，才是正确的结果。如果先blend了近的，那再blend远的时候，实际结果是错的。</p>
<p>如果在开启depth test的情况下，先画一个透明物体，那如果它后面有一个不透明物体，而且又是后画的话，depth test会使得后面的物体画不上去。 </p>
<p>大概就是这样了。使用混合来做出透明效果是十分有技巧、并且十分繁琐的，但是只要你能像控制光照一样，控制场景中的其他大部分对象，我们就能很容易地实现我们需要的正确效果。仅仅能够正确地绘制物体还不够，为了让物体看上去更好看，我们还必须用特定的顺序去绘制它们。</p>
<p>值得一提的是，混合是一项非常有用的技术，还可以用来实现许多其他的效果，下一节课你将会看到。那么，这一节课所讲的内容就到此为止了。这节课上我们讲了深度缓存，还有如何通过混合来做出透明效果。</p>
<p>如果你有任何问题、评论或者修正，都请告诉我！特别是这一课，当我第一次学习时，我感觉这是NeHe的教程中最难理解的一部分。</p>
<p>下节课我们将改进代码结构，不再使用麻烦的全局变量，并实现多个不同物体在场景中的运动。</p>
<div style="clear:both; margin-top:5px; margin-bottom:5px;"></div><div style="float:left"><!-- JiaThis Button BEGIN -->
<div id="ckepop">
	<span class="jiathis_txt">分享到：</span>
	<a class="jiathis_button_tools_1"></a>
	<a class="jiathis_button_tools_2"></a>
	<a class="jiathis_button_tools_3"></a>
	<a class="jiathis_button_tools_4"></a>
	<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a>
	<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/jia.js.下载" charset="utf-8"></script>
<!-- JiaThis Button END --></div><div style="clear:both; margin-top:5px; margin-bottom:5px;"></div>											</div><!-- .entry-content -->


					<div class="entry-utility">
						Posted in <a href="http://www.hiwebgl.com/?cat=17" title="查看 WebGL教程 中的全部文章" rel="category">WebGL教程</a>. Bookmark the <a href="http://www.hiwebgl.com/?p=294" title="Permalink to Lesson 8 深度缓存、透明度和混合" rel="bookmark">permalink</a>.											</div><!-- .entry-utility -->
				</div><!-- #post-## -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://www.hiwebgl.com/?p=282" rel="prev"><span class="meta-nav">←</span> Lesson 7 平行光和环境光</a></div>
					<div class="nav-next"><a href="http://www.hiwebgl.com/?p=312" rel="next">Lesson 9 优化代码结构实现多物体运动 <span class="meta-nav">→</span></a></div>
				</div><!-- #nav-below -->

				

<div id="comments">
		<h3 id="comments-title"><span>1 trackback</span></h3>
	<dl id="trackback_list">
		<dt><a href="http://www.hiwebgl.com/?p=42" rel="external nofollow" class="url">WebGL教程 | WebGL中文教程翻译工程启动！HiWebGL | HiWebGL | 最好的HTML5 WebGL中文资讯站</a></dt>
		<dd><span>2011 年 9 月 19 日 下午 5:26</span></dd>
    </dl>
    <h3 id="comments-title"><span>3 comments</span></h3>
	<ol class="commentlist">
    	
	<li class="comment even thread-even depth-1" id="li-comment-563">
    	<div id="comment-563">
            <div class="comment_meta commentmetadata">
                <span class="avatar"><img alt="" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/ad516503a11cd5ca435acc9bb6523536.png" class="avatar avatar-40 photo" height="40" width="40"></span>
                <span class="comment_author vcard fn">xkey</span>
                <span class="comment_time">2012 年 2 月 17 日 下午 1:40</span>
            </div>
            <div class="comment_body">
                <p></p><p>代码269行变量vertices没有声明，代码390行后面多一个逗号。</p>
<p></p>
                <p class="reply"><a class="comment-reply-link" href="http://www.hiwebgl.com/?p=294&amp;replytocom=563#respond" onclick="return addComment.moveForm(&quot;comment-563&quot;, &quot;563&quot;, &quot;respond&quot;, &quot;294&quot;)">回复</a></p>
            </div>
		</div>
        
        
    
<ul class="children">
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-564">
    	<div id="comment-564">
            <div class="comment_meta commentmetadata">
                <span class="avatar"><img alt="" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/ad516503a11cd5ca435acc9bb6523536(1).png" class="avatar avatar-40 photo" height="40" width="40"></span>
                <span class="comment_author vcard fn">admin</span>
                <span class="comment_time">2012 年 2 月 17 日 下午 4:25</span>
            </div>
            <div class="comment_body">
                <p></p><p>感谢之处，细心啊！已经修正！</p>
<p></p>
                <p class="reply"><a class="comment-reply-link" href="http://www.hiwebgl.com/?p=294&amp;replytocom=564#respond" onclick="return addComment.moveForm(&quot;comment-564&quot;, &quot;564&quot;, &quot;respond&quot;, &quot;294&quot;)">回复</a></p>
            </div>
		</div>
        
        
    
</li>
</ul>
</li>
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1205">
    	<div id="comment-1205">
            <div class="comment_meta commentmetadata">
                <span class="avatar"><img alt="" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/ad516503a11cd5ca435acc9bb6523536(2).png" class="avatar avatar-40 photo" height="40" width="40"></span>
                <span class="comment_author vcard fn">FRANK</span>
                <span class="comment_time">2012 年 7 月 8 日 下午 2:16</span>
            </div>
            <div class="comment_body">
                <p></p><p>“如果你先画了透明的，后画不透明的，显然是不对的。因为即使不透明的更近，也不能通过深度检测屏蔽掉不透明的，所以必须先画不透明的。透明的物体，也需要由远到近来画。” 我认为翻译不够准确。原文“If you don’t render primitives in this order, the primitives, which would otherwise be visible through a partially opaque primitive, might lose the depth test entirely. ”的意思是：如果先画透明的，透过透明物体而可见的物体会被深度检测屏蔽掉。而能够被深度检测屏蔽掉的物体因该在远处。也就是说不透明的在远处，透明的在近处。先画透明的，后画不透明的，远处不透明的应该能可见但被深度检测屏蔽掉，所以要先画不可见的。</p>
<p></p>
                <p class="reply"><a class="comment-reply-link" href="http://www.hiwebgl.com/?p=294&amp;replytocom=1205#respond" onclick="return addComment.moveForm(&quot;comment-1205&quot;, &quot;1205&quot;, &quot;respond&quot;, &quot;294&quot;)">回复</a></p>
            </div>
		</div>
        
        
    
</li>
    </ol>
        

								<div id="respond">
				<h3 id="reply-title">Post a Comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://www.hiwebgl.com/?p=294#respond" style="display:none;">点击这里取消回复。</a></small></h3>
									<form action="http://www.hiwebgl.com/wp-comments-post.php" method="post" id="commentform">
																			<p class="comment-notes">电子邮件地址不会被公开。 必填项已用 <span class="required">*</span> 标注</p>							<p class="comment-form-author"><label for="author">姓名</label> <span class="required">*</span><input id="author" name="author" type="text" value="" size="30" aria-required="true"></p>
<p class="comment-form-email"><label for="email">电子邮件</label> <span class="required">*</span><input id="email" name="email" type="text" value="" size="30" aria-required="true"></p>
<p class="comment-form-url"><label for="url">站点</label><input id="url" name="url" type="text" value="" size="30"></p>
												<p class="comment-form-comment"><label for="comment">评论</label><textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags">您可以使用这些 <abbr title="HyperText Markup Language">HTML</abbr> 标签和属性： <code>&lt;a href="" title=""&gt; &lt;abbr title=""&gt; &lt;acronym title=""&gt; &lt;b&gt; &lt;blockquote cite=""&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=""&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=""&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="发表评论">
							<input type="hidden" name="comment_post_ID" value="294" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="75380bc53e"></p>					</form>
							</div><!-- #respond -->
						
</div><!-- #comments -->

			</div><!-- #content -->
		</div><!-- #container -->

<div id="sidebar" class="widget-area" role="complementary">
	<ul class="xoxo">
    	<li id="search-2" class="widget-container widget_search"><form id="searchform" method="get" action="http://www.hiwebgl.com/"> 
	<input type="text" name="s" id="s" class="search_term" value="Type in keyword and hit Enter..." onblur="if (this.value == &#39;&#39;) {this.value = &#39;Type in keyword and hit Enter...&#39;;}" onfocus="if (this.value == &#39;Type in keyword and hit Enter...&#39;) {this.value = &#39;&#39;;}">
</form></li><li id="text-4" class="widget-container widget_text"><h3 class="widget-title">加入我们的QQ群</h3>			<div class="textwidget"><b>HiWebGL技术讨论群</b><br>①群群号174563471（已满）<br>②群群号133703893（已满）<br>③群群号196778533（已满）<br>④群群号217873851（已满）<br>⑤群群号225923498（已满）<br>500人群群号219549633<br>欢迎各位程序员和工程师加入！<br><a target="_blank" href="http://qun.qq.com/#jointhegroup/gid/219549633"><img border="0" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/gp.png" alt="点击这里加入此群" title="点击这里加入此群"></a>
<br><br>
<b>HiWebGL产业讨论群</b><br>①群群号176289597（已满）<br>②群群号216936388<br>欢迎关注Web3D发展的从业者与富有理想与激情的创业者朋友加入！<br><a target="_blank" href="http://qun.qq.com/#jointhegroup/gid/216936388"><img border="0" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/gp.png" alt="点击这里加入此群" title="点击这里加入此群"></a></div>
		</li><style type="text/css" media="screen">
#mwrapper-wm_show-3 .mcontainer {height: 300px; overflow: hidden;}
</style>
<li id="wm_show-3" class="widget-container wm_show"><h3 class="widget-title">关注我们的新浪微博！</h3><div class="mwrapper" id="mwrapper-wm_show-3"><div class="head"><img class="headimg" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/89c570d0jw1e8qgp5bmzyj2050050aa8.jpg"><a class="headlink" href="http://weibo.com/2311418064" rel="external nofollow" target="_blank">HiWebGL</a><div class="onekey"><iframe width="63" height="24" frameborder="0" allowtransparency="true" marginwidth="0" marginheight="0" scrolling="no" border="0" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/followbutton.html"></iframe></div></div><a class="scroll up" href="javascript:;"><img src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/transparent.gif"></a><div class="mcontainer"><ul class="microblogs"><li class="tweet">[哆啦A梦吃惊]<div class="rt"><a href="http://weibo.com/crazycomputer" rel="external nofollow" target="_blank">尼奥_</a> : 因写了抢猫粮插件被抓的小喵。<div class="pic rt-pic"><a href="http://ww3.sinaimg.cn/large/6588fb91jw1f8a611qywmj20qo0r743g.jpg" rel="external nofollow" target="_blank"><img src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/6588fb91jw1f8a611qywmj20qo0r743g.jpg"></a></div></div><div class="meta"><a href="http://api.t.sina.com.cn/2311418064/statuses/4025014212843692" rel="external nofollow" target="_blank">9月29日 12:00</a> 来自 <a href="http://weibo.com/2311418064" rel="external nofollow" target="_blank">新浪微博</a></div></li><li class="tweet">转发微博<div class="rt"><a href="http://weibo.com/armcn" rel="external nofollow" target="_blank">ARM中国</a> : 在看颜的时代，如何让一款游戏画面更具高bigger？从8位像素画风到1080P/4K，再到ARM的Enlighten全局光照技术，能够分分钟变化出数十种光照效果，再挑的玩家都给它点赞了，不信你就来看看[围观][围观]<a href="http://t.cn/RcNsHsc" rel="external nofollow" target="_blank">http://t.cn/RcNsHsc</a><div class="pic rt-pic"><a href="http://ww3.sinaimg.cn/large/84217b4fgw1f89g6wubugj20j30q6gr3.jpg" rel="external nofollow" target="_blank"><img src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/84217b4fgw1f89g6wubugj20j30q6gr3.jpg"></a></div></div><div class="meta"><a href="http://api.t.sina.com.cn/2311418064/statuses/4025000392991907" rel="external nofollow" target="_blank">9月29日 11:05</a> 来自 <a href="http://weibo.com/2311418064" rel="external nofollow" target="_blank">新浪微博</a></div></li><li class="tweet">转发微博<div class="rt"><a href="http://weibo.com/baidujs" rel="external nofollow" target="_blank">JS小组</a> : 你知道使用 target='_blank' 也会有安全漏洞么？尤其是在各种 UGC 网站中。不过小编早就玩过了，其实一般倒也不会用在钓鱼上，而是用在各种各样的广告点击中。推荐文章《target='_blank' 安全漏洞示例》地址 <a href="http://t.cn/RchBwVu" rel="external nofollow" target="_blank">http://t.cn/RchBwVu</a>  $w<div class="pic rt-pic"><a href="http://ww2.sinaimg.cn/large/aa9d3df6jw1f7fewekmx8j20g30a1aak.jpg" rel="external nofollow" target="_blank"><img src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/aa9d3df6jw1f7fewekmx8j20g30a1aak.jpg"></a></div></div><div class="meta"><a href="http://api.t.sina.com.cn/2311418064/statuses/4016375595329873" rel="external nofollow" target="_blank">9月5日 15:53</a> 来自 <a href="http://weibo.com/2311418064" rel="external nofollow" target="_blank">新浪微博</a></div></li><li class="tweet">不做游戏，帮转<div class="rt"><a href="http://weibo.com/xdarui" rel="external nofollow" target="_blank">阿里子之</a> : 有做WebVR游戏的公司么，求合作。求圈内大神帮忙转发。@寒冬winter @大城小胖 @w3cplus</div><div class="meta"><a href="http://api.t.sina.com.cn/2311418064/statuses/4015348426770066" rel="external nofollow" target="_blank">9月2日 19:52</a> 来自 <a href="http://weibo.com/2311418064" rel="external nofollow" target="_blank">新浪微博</a></div></li><li class="tweet">阿里云OSS是否支持websockets?有人知道吗？<div class="meta"><a href="http://api.t.sina.com.cn/2311418064/statuses/4006622127044001" rel="external nofollow" target="_blank">8月9日 17:56</a> 来自 <a href="http://weibo.com/2311418064" rel="external nofollow" target="_blank">新浪微博</a></div></li></ul></div><a class="scroll down" href="javascript:;"><img src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/transparent.gif"></a></div></li><li id="recent-comments-2" class="widget-container widget_recent_comments"><h3 class="widget-title">近期评论</h3><ul id="recentcomments"><li class="recentcomments"><a href="http://www.d2film.com/" rel="external nofollow" class="url">企业宣传片制作d2film.com影视视频制作公司QQ30998</a> 发表在《<a href="http://www.hiwebgl.com/?p=42#comment-7984">WebGL中文教程翻译工程启动！</a>》</li><li class="recentcomments"><a href="http://www.128sf.cn/" rel="external nofollow" class="url">魔域服务器架设</a> 发表在《<a href="http://www.hiwebgl.com/?p=312#comment-7858">Lesson 9 优化代码结构实现多物体运动</a>》</li><li class="recentcomments"><a href="http://www.39uc.cn/" rel="external nofollow" class="url">天龙八部师傅m161</a> 发表在《<a href="http://www.hiwebgl.com/?p=70#comment-7857">外媒公布Firefox 6性能测试结果</a>》</li><li class="recentcomments"><a href="http://www.233sf.cn/" rel="external nofollow" class="url">最新奇迹私发网</a> 发表在《<a href="http://www.hiwebgl.com/?p=42#comment-7856">WebGL中文教程翻译工程启动！</a>》</li><li class="recentcomments"><a href="http://www.5aivideo.com/" rel="external nofollow" class="url">婚礼跟拍视频5aivideo.com婚礼摄影MV-QQ73595</a> 发表在《<a href="http://www.hiwebgl.com/?p=42#comment-7829">WebGL中文教程翻译工程启动！</a>》</li></ul></li><li id="categories-2" class="widget-container widget_categories"><h3 class="widget-title">分类目录</h3>		<ul>
	<li class="cat-item cat-item-16"><a href="http://www.hiwebgl.com/?cat=16" title="查看 Demo大赏 下的所有文章">Demo大赏</a>
</li>
	<li class="cat-item cat-item-29"><a href="http://www.hiwebgl.com/?cat=29" title="查看 HTML5新闻 下的所有文章">HTML5新闻</a>
</li>
	<li class="cat-item cat-item-57"><a href="http://www.hiwebgl.com/?cat=57" title="Oak3D中文教程">Oak3D教程</a>
</li>
	<li class="cat-item cat-item-17"><a href="http://www.hiwebgl.com/?cat=17" title="查看 WebGL教程 下的所有文章">WebGL教程</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://www.hiwebgl.com/?cat=3" title="WebGL新闻">WebGL新闻</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://www.hiwebgl.com/?cat=10" title="查看 博文精选 下的所有文章">博文精选</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://www.hiwebgl.com/?cat=4" title="推荐阅读">推荐</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://www.hiwebgl.com/?cat=1" title="查看 未分类 下的所有文章">未分类</a>
</li>
		</ul>
</li><li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">文章归档</h3>		<ul>
			<li><a href="http://www.hiwebgl.com/?m=201206" title="2012 年六月">2012 年六月</a></li>
	<li><a href="http://www.hiwebgl.com/?m=201205" title="2012 年五月">2012 年五月</a></li>
	<li><a href="http://www.hiwebgl.com/?m=201204" title="2012 年四月">2012 年四月</a></li>
	<li><a href="http://www.hiwebgl.com/?m=201203" title="2012 年三月">2012 年三月</a></li>
	<li><a href="http://www.hiwebgl.com/?m=201202" title="2012 年二月">2012 年二月</a></li>
	<li><a href="http://www.hiwebgl.com/?m=201201" title="2012 年一月">2012 年一月</a></li>
	<li><a href="http://www.hiwebgl.com/?m=201112" title="2011 年十二月">2011 年十二月</a></li>
	<li><a href="http://www.hiwebgl.com/?m=201111" title="2011 年十一月">2011 年十一月</a></li>
	<li><a href="http://www.hiwebgl.com/?m=201110" title="2011 年十月">2011 年十月</a></li>
	<li><a href="http://www.hiwebgl.com/?m=201109" title="2011 年九月">2011 年九月</a></li>
	<li><a href="http://www.hiwebgl.com/?m=201108" title="2011 年八月">2011 年八月</a></li>
		</ul>
</li>    </ul>
</div><!-- #sidebar .widget-area -->	</div><!-- #main -->
    <div id="footer" role="contentinfo">
    	
    	<div id="colophon">
            <div id="site-info" class="clearfix">
                <div id="generator">Powered by <a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">Wordpress</a> and <a href="http://wpcrunchy.com/" title="Free Premium Quality Wordpress Themes">WPCrunchy</a></div>
                <div id="credits">Designed by <a href="http://www.hostreviewgeeks.com/" title="best web hosting" target="_blank">best web hosting</a>. In collaboration with <a href="http://www.hostv.com/" title="VPS Hosting" target="_blank">VPS Hosting</a>, <a href="http://broadwaytickets.co/" title="Broadway Tickets" target="_blank">Broadway Tickets</a>, <a href="http://wpcorner.com/" title="Free Wordpress Themes" target="_blank">Free Wordpress Themes</a>.</div>
            </div>
        </div>
    </div><!-- #footer -->
</div><!-- #wrapper -->

<script type="text/javascript">jQuery(document).ready(function() { if(jQuery("ul.accordion li").length > 2) { jQuery("ul.accordion").accordion(); } });</script><script src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/stat.php" language="JavaScript"></script><script src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/core.php" charset="utf-8" type="text/javascript"></script><a href="http://www.cnzz.com/stat/website.php?web_id=3871765" target="_blank" title="站长统计"><img border="0" hspace="0" vspace="0" src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/pic.gif"></a><script src="./Lesson 8 深度缓存、透明度和混合 _ HiWebGL_files/stat.js.下载" defer="defer" async="async"></script>
 </body></html>